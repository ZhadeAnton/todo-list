# üé≠ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é MSW –ú–æ–∫–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

MSW (Mock Service Worker) —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ dev —Ä–µ–∂–∏–º–µ. –ú–æ–∫–∏ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞—é—Ç** fetch –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É.

## üîê –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

### –£—Å–ø–µ—à–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞:

**–í–∞—Ä–∏–∞–Ω—Ç 1 - –ê–¥–º–∏–Ω:**

- Username: `admin`
- Password: `admin123`

**–í–∞—Ä–∏–∞–Ω—Ç 2 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**

- Username: `user`
- Password: `user123`

### –û—à–∏–±–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–í–≤–µ–¥–∏—Ç–µ **–ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ** –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ username/password:

- –í–µ—Ä–Ω–µ—Ç—Å—è –æ—à–∏–±–∫–∞ 401 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–ù–µ–≤–µ—Ä–Ω–æ–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ –ø–∞—Ä–æ–ª—å"

## üìù –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **–ª—é–±–æ–µ** –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∫—Ä–æ–º–µ `admin`):

- Username: `newuser` ‚úÖ
- Email: `newuser@example.com` ‚úÖ
- Password: `password123` ‚úÖ (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)

### –û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π 1 - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**

- Username: `admin` ‚ùå
- –í–µ—Ä–Ω–µ—Ç—Å—è –æ—à–∏–±–∫–∞ 409 —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

**–°—Ü–µ–Ω–∞—Ä–∏–π 2 - –í–∞–ª–∏–¥–∞—Ü–∏—è:**

- –ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚ùå
- –ü–∞—Ä–æ–ª—å < 6 —Å–∏–º–≤–æ–ª–æ–≤ ‚ùå

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Todo —Å–ø–∏—Å–∫–∞

### –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

MSW –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Todo API. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∑–∞–≥—Ä—É–∂–µ–Ω—ã **3 —Ç–µ—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞—á–∏**.

**–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–¥–∞—á–∏:**

```typescript
import { getTodos } from "@/shared/api/todos";
const response = await getTodos(); // response.todos - –º–∞—Å—Å–∏–≤ –∑–∞–¥–∞—á
```

**–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É:**

```typescript
import { createTodo } from "@/shared/api/todos";
const response = await createTodo({ text: "–ö—É–ø–∏—Ç—å –º–æ–ª–æ–∫–æ" });
```

**–û–±–Ω–æ–≤–∏—Ç—å –∑–∞–¥–∞—á—É:**

```typescript
import { updateTodo } from "@/shared/api/todos";
const response = await updateTodo("1", { completed: true });
```

**–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É:**

```typescript
import { deleteTodo } from "@/shared/api/todos";
const response = await deleteTodo("1");
```

üìö **–ü–æ–¥—Ä–æ–±–Ω—ã–π –≥–∞–π–¥:** `src/shared/mocks/TODO_API_GUIDE.md`

## üõ†Ô∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –º–æ–∫–æ–≤

```
src/shared/
‚îú‚îÄ‚îÄ mocks/
‚îÇ   ‚îú‚îÄ‚îÄ handlers/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth.ts       # –•–µ–Ω–¥–ª–µ—Ä—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ todos.ts      # –•–µ–Ω–¥–ª–µ—Ä—ã –¥–ª—è Todo —Å–ø–∏—Å–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts      # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö —Ö–µ–Ω–¥–ª–µ—Ä–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ browser.ts        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MSW worker
‚îÇ   ‚îú‚îÄ‚îÄ README.md         # –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ TODO_API_GUIDE.md # –ì–∞–π–¥ –ø–æ —Ä–∞–±–æ—Ç–µ —Å Todo API
‚îî‚îÄ‚îÄ api/
    ‚îú‚îÄ‚îÄ auth.ts           # API —Ñ—É–Ω–∫—Ü–∏–∏ (login, register)
    ‚îú‚îÄ‚îÄ todos.ts          # API —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è Todo
    ‚îî‚îÄ‚îÄ useTodos.example.ts # –ü—Ä–∏–º–µ—Ä –∫–∞—Å—Ç–æ–º–Ω–æ–≥–æ —Ö—É–∫–∞
```

## üìã –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º

1. **MSW –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ dev —Å–µ—Ä–≤–µ—Ä–∞ (`src/main.tsx`)
2. **Service Worker** –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç fetch –∑–∞–ø—Ä–æ—Å—ã –∫ `/api/*`
3. **–ú–æ–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç** –∑–∞—Ä–∞–Ω–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
4. **–°–∏–º—É–ª—è—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏** 800-1000ms –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
5. **Production build** –ù–ï –≤–∫–ª—é—á–∞–µ—Ç MSW (—Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ dev)

## üîç –û—Ç–ª–∞–¥–∫–∞

–û—Ç–∫—Ä–æ–π—Ç–µ **DevTools Console** –∏ —É–≤–∏–¥–∏—Ç–µ:

```
[MSW] Mocking enabled.
[MSW] POST /api/auth/login ‚Üí 200 OK
```

## ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–æ–∫–æ–≤

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ —Ö–µ–Ω–¥–ª–µ—Ä

```typescript
// src/shared/mocks/handlers/users.ts
import { http, HttpResponse } from "msw";

export const userHandlers = [
  http.get("/api/users", () => {
    return HttpResponse.json([
      { id: 1, name: "User 1" },
      { id: 2, name: "User 2" },
    ]);
  }),
];
```

### –®–∞–≥ 2: –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ

```typescript
// src/shared/mocks/handlers/index.ts
import { authHandlers } from "./auth";
import { userHandlers } from "./users";

export const handlers = [...authHandlers, ...userHandlers];
```

### –®–∞–≥ 3: –°–æ–∑–¥–∞–π—Ç–µ API —Ñ—É–Ω–∫—Ü–∏—é

```typescript
// src/shared/api/users.ts
export async function getUsers() {
  const response = await fetch("/api/users");
  return response.json();
}
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ **–ù–µ—Ç backend** - —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ frontend –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ
- ‚úÖ **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ loading —Å–æ—Å—Ç–æ—è–Ω–∏–π
- ‚úÖ **–†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏** - —É—Å–ø–µ—à–Ω—ã–µ –∏ –æ—à–∏–±–æ—á–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ **–ù–µ –ø–æ–ø–∞–¥–∞–µ—Ç –≤ build** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ
- ‚úÖ **FSD —Å–æ–≤–º–µ—Å—Ç–∏–º–æ** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–ª–µ–¥—É–µ—Ç Feature-Sliced Design

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
4. –°–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ DevTools

–ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é! üöÄ
